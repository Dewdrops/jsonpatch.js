





 
    
    



<!doctype html>
<html>
		<head>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width,initial-scale=0.75" />
			<title>jsonpatch.js</title>
      <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Forum|Inconsolata" rel="stylesheet" />
      <link href="../css/default.css" rel="stylesheet" />
      <link rel="shortcut icon" href="../favicon.ico" />
		</head>
		<body>
			<header>
				<h1 class="title">
                     <a href="../"> 
                    jsonpatch.js
                     </a> 
                </h1>
			</header>
            
           <nav id="navigation">
                <ul>
                    <li class="show-subnav"><a href="#subnav" class="icon">Go to navigation for this page</a></li>
                    
                    <li>
                        <a href="../">
                        Overview 
                        </a>
                    </li>
                    
                    <li>
                        <a href="../reference">
                        Reference 
                        </a>
                    </li>
                    
                </ul>
            </nav>
            
            
            <section class="content">
            
            


<nav id="subnav">
    <ul>
    
      <li><a href="#remove%28document%29">Remove(document)</a></li>
    
      <li><a href="#replace%28document%2C-value%29">Replace(document, Value)</a></li>
    
      <li><a href="#get%28document%29">Get(document)</a></li>
    
      <li><a href="#invalidpatch-class">Invalidpatch Class</a></li>
    
      <li><a href="#patchapplyerror-class">Patchapplyerror Class</a></li>
    
      <li><a href="#apply_patch%28document%2C-patch%29">Apply_patch(document, Patch)</a></li>
    
      <li><a href="#jsonpatch-class">Jsonpatch Class</a></li>
    
      <li><a href="#apply%28document%29">Apply(document)</a></li>
    
      <li><a href="#jsonpointer-class">Jsonpointer Class</a></li>
    
      <li><a href="#add%28document%2C-value%29">Add(document, Value)</a></li>
    
    </ul>
</nav>


    
    <section>
        <h1><a id="remove%28document%29" class="permalink" href="#remove%28document%29">&#9875;</a>Remove(document)</h1>
        <article class="embedded markdown">
        <p>Takes a JSON document and removes the value pointed to. It is an error to attempt to remove a value that doesn&#8217;t exist.</p>

<p>* document - The document to operate against. May be mutated.</p>

<p>Example:</p>

<pre><code>javascript
var doc = new JSONPointer(&quot;/obj/old&quot;).remove({obj: {old: &quot;string&quot;}});
// doc now equals {obj: {}}</code></pre>

<p>Returns the updated doc (the value passed in may also have been mutated)</p>
        </article>
    </section>
    

    

    

    

    

    

    

    

    

    



 <aside>
    <ul>
        <li class="github"><a href="https://github.com/dharmafly/jsonpatch.js" title="jsonpatch.js on Github">jsonpatch.js on Github</a></li>
        
        <li class="twitter"><a href="https://twitter.com/dharmafly" title="jsonpatch.js on Twitter">
        jsonpatch.js on Twitter</a></li>
        
         
            <li class="code-css" title="This is a CSS project"><span>This is a CSS project</span></li>
           
    </ul>
</aside>


    

    
    <section>
        <h1><a id="replace%28document%2C-value%29" class="permalink" href="#replace%28document%2C-value%29">&#9875;</a>Replace(document, Value)</h1>
        <article class="embedded markdown">
        <p>Takes a JSON document and removes the value pointed to. It is an error to attempt to remove a value that doesn&#8217;t exist.</p>

<p>* document - The document to operate against. May be mutated. * value - The value to replace at the position pointed to</p>

<p>Examples</p>

<pre><code>javascript
var doc = new JSONPointer(&quot;/obj/bar).replace({obj: {bar: &quot;old&quot;}}, &quot;new&quot;);
// doc now equals {obj: {old: &quot;new&quot;}}</code></pre>

<p>Returns the updated doc (the value passed in may also have been mutated)</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="get%28document%29" class="permalink" href="#get%28document%29">&#9875;</a>Get(document)</h1>
        <article class="embedded markdown">
        <p>Returns the value pointed to by the pointer in the given doc.</p>

<p>* document - The document to operate against.</p>

<p>Examples</p>

<pre><code>javascript
var value = new JSONPointer(&quot;/obj/value&quot;).get({obj: {value: &quot;hello&quot;}});
// value now equals &#39;hello&#39;</code></pre>

<p>Returns the value</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="invalidpatch-class" class="permalink" href="#invalidpatch-class">&#9875;</a>Invalidpatch Class</h1>
        <article class="embedded markdown">
        <p>Error thrown when an invalid patch is passed in.</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="patchapplyerror-class" class="permalink" href="#patchapplyerror-class">&#9875;</a>Patchapplyerror Class</h1>
        <article class="embedded markdown">
        <p>Error thrown when a patch can not be applied against a given document.</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="apply_patch%28document%2C-patch%29" class="permalink" href="#apply_patch%28document%2C-patch%29">&#9875;</a>Apply_patch(document, Patch)</h1>
        <article class="embedded markdown">
        <p>A shortcut to apply a patch given as an Array or as a JSON String (see the <a href='http://tools.ietf.org/html/draft-pbryan-json-patch-01'>draft JSONPatch spec</a> for the patch format) to a document. May (and usually does) mutate the given document.</p>

<p>* document - The document to operate against. May be mutated. * patch - The patch document as a JS Array of operations or as a JSON String representing the same (the latter requires JSON support in your browser or the inclusion of the JSON2 library or similar)</p>

<p>Example:</p>

<pre><code>javascript
mydoc = {
  &quot;baz&quot;: &quot;qux&quot;,
  &quot;foo&quot;: &quot;bar&quot;
};
thepatch = [
  { &quot;replace&quot;: &quot;/baz&quot;, &quot;value&quot;: &quot;boo&quot; }
]
patcheddoc = jsonpatch.apply_patch(mydoc, thepatch);
// patcheddoc now equals {&quot;baz&quot;: &quot;boo&quot;, &quot;foo&quot;: &quot;bar&quot;}}</code></pre>

<p>Throws:</p>

<p>* InvalidPatch if the patch is invalid * PatchApplyError if the patch could not apply against the given document</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="jsonpatch-class" class="permalink" href="#jsonpatch-class">&#9875;</a>Jsonpatch Class</h1>
        <article class="embedded markdown">
        <p>A JSONPatch object represents a compiled patch. The constructor takes a single argument giving the patch as an Array or as a String.</p>

<p>* patch - The patch document as a JS Array of operations or as a JSON String representing the same (the latter requires JSON support in your browser or the inclusion of the JSON2 library or similar)</p>

<p>Example:</p>

<pre><code>javascript
mypatch = new JSONPatch([{ &quot;replace&quot;: &quot;/baz&quot;, &quot;value&quot;: &quot;boo&quot; }]);</code></pre>

<p>Throws:</p>

<p>* InvalidPatch if the patch is invalid</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="apply%28document%29" class="permalink" href="#apply%28document%29">&#9875;</a>Apply(document)</h1>
        <article class="embedded markdown">
        <hr />
<p>Applies the patch to the given document and returns the result. May also mutate the document!</p>

<p>* document - The document to operate against. May be mutated.</p>

<p>Example:</p>

<pre><code>javascript
patched = mypatch.apply(mydoc);</code></pre>

<p>Returns the patched document.</p>

<p>Throws:</p>

<p>* PatchApplyError if the patch could not apply against the given document</p>
        </article>
    </section>
    

    
    <section>
        <h1><a id="jsonpointer-class" class="permalink" href="#jsonpointer-class">&#9875;</a>Jsonpointer Class</h1>
        <article class="embedded markdown">
        <p>Represents a pointer into a Javascript object. The constructor takes a single string argument giving the pointer (see the <a href='http://tools.ietf.org/html/draft-pbryan-zyp-json-pointer-02'>draft JSONPointer spec</a> for the pointer format).</p>

<pre><code>javascript
mypointer = new JSONPointer(&#39;/foo/baz/bar&#39;);</code></pre>
        </article>
    </section>
    

    
    <section>
        <h1><a id="add%28document%2C-value%29" class="permalink" href="#add%28document%2C-value%29">&#9875;</a>Add(document, Value)</h1>
        <article class="embedded markdown">
        <p>Takes a JSON document and a value and adds the value into the doc at the position pointed to. If the position pointed to is in an array then the existing element at that position (if any) and all that follow it have there position incremented to make room. It is an error to add to a parent object that doesn&#8217;t exist or to try to replace an existing value in an object.</p>

<p>* document - The document to operate against. May be mutated. * value - The value to insert at the position pointed to</p>

<p>Example:</p>

<pre><code>javascript
var doc = new JSONPointer(&quot;/obj/new&quot;).add({obj:   {old:&quot;hello&quot;}},&quot;world&quot;);
// doc now equals {obj: {old: &quot;hello&quot;, new: &quot;world&quot;}}</code></pre>

<p>Returns the updated doc (the value passed in may also have been mutated)</p>
        </article>
    </section>
    

            
                
                <section class="quote">
                    <blockquote>
                        Ink is better than the best memory.
                    </blockquote>
                    <cite>Chinese proverb</cite>
                </section>
                
            
            </section>
            
            
            
            <footer>
                <div>
                    <p>
                    <em>by</em> <a href="http://dharmafly.com">Dharmafly</a>
                    </p>
                </div>
			</footer>
            
            <!--[if lt IE 9]>
                <script src="../javascript/html5shiv.js"></script>
            <![endif]-->
            
			<script src="../javascript/main.js"></script>
			<script src="../javascript/jquery.js"></script>
           
            
            <script src="https://raw.github.com/dharmafly/jsonpatch.js/master/lib/jsonpatch.js"></script>
            

			<script src="../javascript/ace/ace.js"></script>
			<script src="../javascript/ace/theme/theme-dharmafly.js"></script>
			<script src="../javascript/ace/mode-javascript.js"></script>
			<script src="../javascript/hijs.js"></script>
			<script src="../javascript/demo.js"></script>
      

      
      
		</body>
</html>